{"version":3,"sources":["scripts/main.js"],"names":["table","document","querySelector","tbody","headers","querySelectorAll","rows","doc","countryArray","positionArray","headerIndexArr","sortTatble","el","headerArr","rowArr","headerIndex","indexOf","target","sort","a","b","tdA","children","innerHTML","tdB","replace","forEach","item","append","prepend","addEventListener","parentElement","classList","remove","add","pushNotification","title","description","type","body","message","createElement","h2","p","coords","style","top","right","setAttribute","textContent","setTimeout","formAdd","map","country","insertAdjacentHTML","saveToTableBtn","addEmployee","newEmployeeName","newEmployeePosition","newEmployeeOffice","newEmployeeAge","newEmployeeSalary","tr","value","newValue","trim","formatSalary","Intl","NumberFormat","format","length","changeTableCell","cell","editCell","prevTextContent","cellIndex","input","select","padding","border","borderRadius","color","marginTop","outlineColor","replaceWith","position","join","focus","changeText","td","successChange","unSuccessChange","errorText","key","press"],"mappings":";AAAA,aAkWA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,MAAA,EAAA,OAAA,UAAA,CAAA,GAAA,MAAA,QAAA,KAAA,EAAA,EAAA,IAAA,CAAA,IAAA,EAAA,EAAA,EAAA,aAAA,MAAA,CAAA,EAAA,EAAA,EAAA,WAAA,OAAA,GAAA,EAAA,OAAA,CAAA,MAAA,GAAA,CAAA,MAAA,EAAA,MAAA,EAAA,OAAA,EAAA,SAAA,GAAA,MAAA,GAAA,EAAA,GAAA,MAAA,IAAA,UAAA,yIAAA,IAAA,EAAA,EAAA,GAAA,EAAA,GAAA,EAAA,MAAA,CAAA,EAAA,WAAA,EAAA,EAAA,OAAA,aAAA,EAAA,WAAA,IAAA,EAAA,EAAA,OAAA,OAAA,EAAA,EAAA,KAAA,GAAA,EAAA,SAAA,GAAA,GAAA,EAAA,EAAA,GAAA,EAAA,WAAA,IAAA,GAAA,MAAA,EAAA,QAAA,EAAA,SAAA,QAAA,GAAA,EAAA,MAAA,KAAA,SAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,IAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,wIAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,GAAA,GAAA,oBAAA,QAAA,OAAA,YAAA,OAAA,GAAA,OAAA,MAAA,KAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAhWA,IAgWA,EAhWMA,EAAQC,SAASC,cAAc,SAC/BC,EAAQF,SAASC,cAAc,SAC/BE,EAAUJ,EAAMK,iBAAiB,YACnCC,EAAON,EAAMK,iBAAiB,YAC5BE,EAAMN,SAASC,cAAc,QAC7BM,EAAe,CAArB,QAAA,YAAA,SAAA,WAAA,YAAA,gBAAA,QASMC,EAAgB,CACpB,aACA,mBACA,YACA,uBACA,yBACA,uBACA,cACA,qBACA,oBACA,qBACA,oBACA,oBAEIC,EAAiB,CAAC,EAAG,EAAG,EAAG,EAAG,GAG9BC,EAAa,SAACC,GACZC,IAAAA,EAAgBT,EAAAA,GAChBU,EAAaR,EAAAA,GACbS,EAAcF,EAAUG,QAAQJ,EAAGK,QAEzCH,EAAOI,KAAK,SAACC,EAAGC,GACVC,IAAAA,EAAMF,EAAEG,SAASP,GAAaQ,UAC9BC,EAAMJ,EAAEE,SAASP,GAAaQ,UAY9BF,MAVwB,WAAxBT,EAAGK,OAAOM,YACZF,GAAOF,EAAEG,SAASP,GAAaQ,UAC5BE,QAAQ,IAAK,IACbA,QAAQ,IAAK,IAEhBD,GAAOJ,EAAEE,SAASP,GAAaQ,UAC5BE,QAAQ,IAAK,IACbA,QAAQ,IAAK,KAGdJ,EAAMG,EACD,EACEH,EAAMG,GACP,EAED,IAIPd,EAAeK,GAAe,GAAM,GACtCD,EAAOY,QAAQ,SAACC,GAASxB,OAAAA,EAAMyB,OAAOD,KACtCjB,EAAeK,OAEfD,EAAOY,QAAQ,SAACC,GAASxB,OAAAA,EAAM0B,QAAQF,KACvCjB,EAAeK,OAIAX,EAAAA,EAAAA,GA4RnB,IA5R4B,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAjBuB,IAAAA,EAAiB,EAAA,MAC1BA,EAAKG,iBAAiB,QAASnB,IA2RjC,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,IAvRAR,EAAM2B,iBAAiB,QAAS,WAGZxB,IAHuB,EAGvBA,EAAAA,EAFlBA,EAAON,EAAMK,iBAAiB,aADW,IAGjB,IAAA,EAAA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAA,EAAA,MAClByB,iBAAiB,QAAS,SAAClB,GACvBK,IAAAA,EAASL,EAAGK,OAAOc,cAErBzB,EAAAA,GAAMoB,QAAQ,SAAAC,GAChBA,EAAKK,UAAUC,OAAO,YAExBhB,EAAOe,UAAUE,IAAI,aAVgB,MAAA,GAAA,EAAA,EAAA,GAAA,QAAA,EAAA,OAgB3C,IAAMC,EAAmB,SAACC,EAAOC,EAAaC,GACtCC,IAAAA,EAAOtC,SAASC,cAAc,QAC9BsC,EAAUvC,SAASwC,cAAc,OACjCC,EAAKzC,SAASwC,cAAc,MAC5BE,EAAI1C,SAASwC,cAAc,KAC3BG,EACD,GADCA,EAED,GAGLJ,EAAQR,UAAUE,IAAI,eAAmBI,GAAAA,OAAAA,IACzCE,EAAQK,MAAMC,IAASF,GAAAA,OAAAA,EAAvB,MACAJ,EAAQK,MAAME,MAAWH,GAAAA,OAAAA,EAAzB,MACAJ,EAAQQ,aAAa,UAAW,gBAChCN,EAAGV,UAAUE,IAAI,SACjBQ,EAAGO,YAAcb,EACjBO,EAAEM,YAAcZ,EAChBG,EAAQZ,OAAOc,EAAIC,GACnBJ,EAAKX,OAAOY,GAEZU,WAAW,WACTV,EAAQP,UACP,MAICkB,EAuBE3C,khBAAAA,OAAAA,EAAa4C,IAAI,SAAAC,GACAA,MAAAA,4BAAAA,OAAAA,EAAYA,MAAAA,OAAAA,EADL,uBAvBhC,ikBAuDA9C,EAAI+C,mBAAmB,YAAaH,GAGpC,IAAMI,EAAiBtD,SAASC,cAAc,oBAExCsD,EAAc,SAAC5C,GACb6C,IAAAA,EAAkBxD,SAASC,cAAc,SACzCwD,EAAsBzD,SAASC,cAAc,aAC7CyD,EAAoB1D,SAASC,cAAc,WAC3C0D,EAAiB3D,SAASC,cAAc,QACxC2D,EAAoB5D,SAASC,cAAc,WAQ3C4D,IANgBC,EACdC,EAKFF,EACEL,aAAAA,OAAAA,EAAgBM,MAAME,OACtBP,mBAAAA,OAAAA,EAAoBK,MACpBJ,mBAAAA,OAAAA,EAAkBI,MAClBH,mBAAAA,OAAAA,EAAeG,MACfG,mBAAAA,QAXcH,EAWDF,EAAkBE,MAV/BC,EAAWD,EAAMtC,QAAQ,UAAW,IAE/B,IAAA,OAAA,IAAI0C,KAAKC,aAAa,SAASC,OAAOL,KAGnD,aAQIP,EAAgBM,MAAMO,OAAS,EACjCnC,EAAiB,QAAS,iCAAkC,SAKrB,IAArCuB,EAAoBK,MAAMO,OAQ1BV,EAAeG,MAAQ,IAAMH,EAAeG,MAAQ,GACtD5B,EACE,QACA,sDACA,SAMmC,IAAnC0B,EAAkBE,MAAMO,QAM5BnC,EAAiB,UAEf,4CAAA,WAEFhC,EAAMmD,mBAAmB,YAAaQ,GACtCL,EAAgBM,MAAQ,GACxBL,EAAoBK,MAAQ,GAC5BH,EAAeG,MAAQ,GACvBF,EAAkBE,MAAQ,IAbxB5B,EAAiB,QAA8C,oCAAA,SAlB/DA,EAAiB,QACf,iCAAA,UAiCNoB,EAAezB,iBAAiB,QAAS0B,GAGzC,IAAMe,EAAkB,SAACC,GACjBC,IAAAA,EAAWD,EAAKvD,OAChByD,EAAkBD,EAASxB,YAC3B0B,EAAYF,EAASE,UACrBC,EAAQ3E,SAASwC,cAAc,SAC/BoC,EAAS5E,SAASwC,cAAc,UAEtCmC,EAAM5C,UAAUE,IAAI,cACpB0C,EAAM/B,MAAMiC,QAAZ,OAEAD,EAAOhC,MAAMkC,OAAb,oBACAF,EAAOhC,MAAMmC,aAAb,MACAH,EAAOhC,MAAMoC,MAAb,UACAJ,EAAOhC,MAAMqC,UAAb,OACAL,EAAOhC,MAAMiC,QAAb,MACAD,EAAOhC,MAAMsC,aAAb,UAEkB,IAAdR,GACFF,EAASW,YAAYP,GAErBA,EAAOtD,UAAed,GAAAA,OAAAA,EAAc2C,IAAI,SAAAiC,GACpBA,MAAAA,kBAAAA,OAAAA,EAAaA,MAAAA,OAAAA,EADe,eACMC,KAAK,KAC3DT,EAAOU,SACgB,IAAdZ,GACTF,EAASW,YAAYP,GAErBA,EAAOtD,UAAef,GAAAA,OAAAA,EAAa4C,IAAI,SAAAiC,GACnBA,MAAAA,kBAAAA,OAAAA,EAAaA,MAAAA,OAAAA,EADc,eACOC,KAAK,KAC3DT,EAAOU,SACgB,IAAdZ,GAAiC,IAAdA,GAC5BF,EAASW,YAAYR,GACrBA,EAAM5B,aAAa,OAAQ,UAC3B4B,EAAM5B,aAAa,MAAO,2BAC1B4B,EAAMW,UAENd,EAASW,YAAYR,GACrBA,EAAMW,SAGFC,IAAAA,EAAa,WACXC,IAAAA,EAAKxF,SAASwC,cAAc,MAE5BiD,EAAgB,WACpBD,EAAGxC,YAAc2B,EAAMb,MACvBa,EAAMQ,YAAYK,GAClBtD,EAAiB,UAA4C,gCAAA,YAGzDwD,EAAkB,SAACC,GACvBH,EAAGxC,YAAcyB,EACjBE,EAAMQ,YAAYK,GAClBtD,EAAiB,QAAYyD,GAAAA,OAAAA,GAAa,UAGpCjB,OAAAA,GACD,KAAA,EACCC,EAAMb,MAAMO,OAAS,EACvBqB,EAAgB,kCAEhBD,IAEF,MACG,KAAA,EAKA,KAAA,EACHD,EAAGxC,YAAc4B,EAAOd,MACxBc,EAAOO,YAAYK,GACnBtD,EAAiB,UAA4C,gCAAA,WAC7D,MACG,KAAA,GACEyC,EAAMb,MAAQ,KAAOa,EAAMb,MAAQ,GACtC4B,EAAgB,iDAEhBf,EAAMtC,KAAO,SACbmD,EAAGxC,YAAc2B,EAAMb,MACvB2B,KAEF,MACG,KAAA,GACEd,EAAMb,MAAQ,GACW,IAAvBa,EAAMb,MAAMO,OAEjBqB,EAAA,gEAIAF,EAAGxC,YAAkB,IAAA,OAAA,IAAIkB,KAAKC,aAAa,SAASC,OAAOO,EAAMb,QACjEa,EAAMQ,YAAYK,MAM1Bb,EAAM9C,iBAAiB,OAAQ0D,GAC/BX,EAAO/C,iBAAiB,OAAQ0D,GAEhCZ,EAAM9C,iBAAiB,UAAW,SAAC+D,GACjB,UAAZA,EAAIA,KACNL,MAIJX,EAAO/C,iBAAiB,UAAW,SAACgE,GAChB,UAAdA,EAAMD,KACRL,OAKNrF,EAAM2B,iBAAiB,WAAYyC","file":"main.9226e929.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst table = document.querySelector('table');\nconst tbody = document.querySelector('tbody');\nconst headers = table.querySelectorAll('thead th');\nlet rows = table.querySelectorAll('tbody tr');\nconst doc = document.querySelector('body');\nconst countryArray = [\n  `Tokyo`,\n  `Singapore`,\n  `London`,\n  `New York`,\n  `Edinburgh`,\n  `San Francisco`,\n  `Kyiv`,\n];\nconst positionArray = [\n  'Accountant',\n  'Data Coordinator',\n  'Developer',\n  'Financial Controller',\n  'Integration Specialist',\n  'Javascript Developer',\n  'QA Engineer',\n  'Marketing Designer',\n  'Regional Director',\n  'Regional Marketing',\n  'Software Engineer',\n  'Technical Author',\n];\nconst headerIndexArr = [0, 0, 0, 0, 0];\n\n// Sort table in two ways\nconst sortTatble = (el) => {\n  const headerArr = [...headers];\n  const rowArr = [...rows];\n  const headerIndex = headerArr.indexOf(el.target);\n\n  rowArr.sort((a, b) => {\n    let tdA = a.children[headerIndex].innerHTML;\n    let tdB = b.children[headerIndex].innerHTML;\n\n    if (el.target.innerHTML === 'Salary') {\n      tdA = +a.children[headerIndex].innerHTML\n        .replace('$', '')\n        .replace(',', '');\n\n      tdB = +b.children[headerIndex].innerHTML\n        .replace('$', '')\n        .replace(',', '');\n    }\n\n    if (tdA > tdB) {\n      return 1;\n    } else if (tdA < tdB) {\n      return -1;\n    } else {\n      return 0;\n    }\n  });\n\n  if (headerIndexArr[headerIndex] % 2 === 0) {\n    rowArr.forEach((item) => tbody.append(item));\n    headerIndexArr[headerIndex]++;\n  } else {\n    rowArr.forEach((item) => tbody.prepend(item));\n    headerIndexArr[headerIndex]--;\n  }\n};\n\nfor (const item of headers) {\n  item.addEventListener('click', sortTatble);\n}\n\n// When user clicks on a row, it should become selected.\ntbody.addEventListener('click', function() {\n  rows = table.querySelectorAll('tbody tr');\n\n  for (const row of rows) {\n    row.addEventListener('click', (el) => {\n      const target = el.target.parentElement;\n\n      [...rows].forEach(item => {\n        item.classList.remove('active');\n      });\n      target.classList.add('active');\n    });\n  }\n});\n\n// Notification function\nconst pushNotification = (title, description, type) => {\n  const body = document.querySelector('body');\n  const message = document.createElement('div');\n  const h2 = document.createElement('h2');\n  const p = document.createElement('p');\n  const coords = {\n    x: 10,\n    y: 10,\n  };\n\n  message.classList.add('notification', `${type}`);\n  message.style.top = `${coords.x}px`;\n  message.style.right = `${coords.y}px`;\n  message.setAttribute('data-qa', 'notification');\n  h2.classList.add('title');\n  h2.textContent = title;\n  p.textContent = description;\n  message.append(h2, p);\n  body.append(message);\n\n  setTimeout(() => {\n    message.remove();\n  }, 3000);\n};\n\n// Add a form to the document.\nconst formAdd = `\n  <form action=\"/\" method=\"post\" class=\"new-employee-form\">\n    <label for=\"name\">Name:\n      <input\n        name=\"name\"\n        type=\"text\"\n        data-qa=\"name\"\n        id=\"name\"\n        required\n      >\n    </label>\n    <label for=\"position\">Position:\n      <input\n        name=\"position\"\n        type=\"text\"\n        data-qa=\"position\"\n        id=\"position\"\n        required\n      >\n    </label>\n    <label for=\"office\">\n      Office:\n      <select name=\"office\" id=\"office\" data-qa=\"office\">\n      ${countryArray.map(country => `\n        <option value='${country}'>${country}</option>\n      `)}\n      </select>\n    </label>\n    <label for=\"age\">Age:\n      <input name=\"age\"\n        type=\"number\"\n        min=\"18\"\n        max=\"90\"\n        step=\"1\"\n        data-qa=\"age\"\n        id=\"age\"\n        required\n      >\n    </label>\n    <label for=\"salary\">Salary:\n      <input\n        name=\"salary\"\n        type=\"number\"\n        min=\"5000\"\n        max=\"5000000\"\n        step=\"500\"\n        data-qa=\"salary\"\n        id=\"salary\"\n        required\n      >\n    </label>\n    <button type=\"submit\" class=\"js-add-employee\">Save to table</button>\n  </form>\n`;\n\ndoc.insertAdjacentHTML('beforeend', formAdd);\n\n// Save data to table\nconst saveToTableBtn = document.querySelector('.js-add-employee');\n\nconst addEmployee = (el) => {\n  const newEmployeeName = document.querySelector('#name');\n  const newEmployeePosition = document.querySelector('#position');\n  const newEmployeeOffice = document.querySelector('#office');\n  const newEmployeeAge = document.querySelector('#age');\n  const newEmployeeSalary = document.querySelector('#salary');\n\n  function formatSalary(value) {\n    const newValue = value.replace(/[^+\\d]/g, '');\n\n    return `$${new Intl.NumberFormat('ja-JP').format(newValue)}`;\n  }\n\n  const tr = `\n    <td>${newEmployeeName.value.trim()}</td>\n    <td>${newEmployeePosition.value}</td>\n    <td>${newEmployeeOffice.value}</td>\n    <td>${newEmployeeAge.value}</td>\n    <td>${formatSalary(newEmployeeSalary.value)}</td>\n  `;\n\n  if (newEmployeeName.value.length < 4) {\n    pushNotification('Wrong', 'Name length less then 4 digits', 'error');\n\n    return;\n  }\n\n  if (newEmployeePosition.value.length === 0) {\n    pushNotification('Wrong', `Position field can't be empty!`,\n      'error'\n    );\n\n    return;\n  }\n\n  if (newEmployeeAge.value < 18 || newEmployeeAge.value > 90) {\n    pushNotification(\n      'Wrong',\n      'There is error in Age of Employee. Please check it.',\n      'error'\n    );\n\n    return;\n  }\n\n  if (newEmployeeSalary.value.length === 0) {\n    pushNotification('Wrong', `Salary can't be negative or zero.`, 'error');\n\n    return;\n  }\n\n  pushNotification('Success',\n    `Look's everything is okay. Check table :)`,\n    'success'\n  );\n  tbody.insertAdjacentHTML('beforeend', tr);\n  newEmployeeName.value = '';\n  newEmployeePosition.value = '';\n  newEmployeeAge.value = '';\n  newEmployeeSalary.value = '';\n};\n\nsaveToTableBtn.addEventListener('click', addEmployee);\n\n// Double click on the cell of the table\nconst changeTableCell = (cell) => {\n  const editCell = cell.target;\n  const prevTextContent = editCell.textContent;\n  const cellIndex = editCell.cellIndex;\n  const input = document.createElement('input');\n  const select = document.createElement('select');\n\n  input.classList.add('cell-input');\n  input.style.padding = `18px`;\n\n  select.style.border = `1px solid #808080`;\n  select.style.borderRadius = `4px`;\n  select.style.color = `#808080`;\n  select.style.marginTop = `14px`;\n  select.style.padding = `4px`;\n  select.style.outlineColor = `#808080`;\n\n  if (cellIndex === 1) {\n    editCell.replaceWith(select);\n\n    select.innerHTML = `${positionArray.map(position =>\n      `<option value=\"${position}\">${position}</option>`).join('')}`;\n    select.focus();\n  } else if (cellIndex === 2) {\n    editCell.replaceWith(select);\n\n    select.innerHTML = `${countryArray.map(position =>\n      `<option value=\"${position}\">${position}</option>`).join('')}`;\n    select.focus();\n  } else if (cellIndex === 3 || cellIndex === 4) {\n    editCell.replaceWith(input);\n    input.setAttribute('type', 'number');\n    input.setAttribute('max', '99999999999999999999999');\n    input.focus();\n  } else {\n    editCell.replaceWith(input);\n    input.focus();\n  }\n\n  const changeText = () => {\n    const td = document.createElement('td');\n\n    const successChange = () => {\n      td.textContent = input.value;\n      input.replaceWith(td);\n      pushNotification('Success', `Look's everything is okay. :)`, 'success');\n    };\n\n    const unSuccessChange = (errorText) => {\n      td.textContent = prevTextContent;\n      input.replaceWith(td);\n      pushNotification('Wrong', `${errorText}`, 'error');\n    };\n\n    switch (cellIndex) {\n      case 0:\n        if (input.value.length < 4) {\n          unSuccessChange('Name must be at least 4 digits');\n        } else {\n          successChange();\n        }\n        break;\n      case 1:\n        td.textContent = select.value;\n        select.replaceWith(td);\n        pushNotification('Success', `Look's everything is okay. :)`, 'success');\n        break;\n      case 2:\n        td.textContent = select.value;\n        select.replaceWith(td);\n        pushNotification('Success', `Look's everything is okay. :)`, 'success');\n        break;\n      case 3:\n        if (+input.value < 18 || +input.value > 90) {\n          unSuccessChange('Age must be from 18 to 90. Please try again.');\n        } else {\n          input.type = 'number';\n          td.textContent = input.value;\n          successChange();\n        }\n        break;\n      case 4:\n        if (+input.value < 0\n            || input.value.length === 0\n        ) {\n          unSuccessChange(\n            `Salary can't be negative / empty or word. Please try again.`\n          );\n        } else {\n          td.textContent = `$${new Intl.NumberFormat('ja-JP').format(input.value)}`;\n          input.replaceWith(td);\n        }\n        break;\n    }\n  };\n\n  input.addEventListener('blur', changeText);\n  select.addEventListener('blur', changeText);\n\n  input.addEventListener('keydown', (key) => {\n    if (key.key === 'Enter') {\n      changeText();\n    }\n  });\n\n  select.addEventListener('keydown', (press) => {\n    if (press.key === 'Enter') {\n      changeText();\n    }\n  });\n};\n\ntbody.addEventListener('dblclick', changeTableCell);\n"]}